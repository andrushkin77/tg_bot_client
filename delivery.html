<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Информация о доставке</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background-color: #161616; color: white; font-family: Arial, sans-serif; padding: 20px; }
        .container { background: #1e1e1e; padding: 20px; border-radius: 10px; }
        input, button { width: 100%; padding: 10px; margin-top: 10px; border: none; border-radius: 5px; }
        input { background: #292929; color: white; }
        button { background: #32CD32; color: white; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>Информация о доставке</h2>

    <label>Город</label>
    <input type="text" id="city" value="Москва">

    <label>Адрес</label>
    <input type="text" id="address">

    <label>Имя</label>
    <input type="text" id="recipient_name">

    <label>Телефон</label>
    <input type="text" id="recipient_phone">

    <button onclick="saveDeliveryInfo()">Сохранить</button>
</div>

<script>
    let tg = window.Telegram.WebApp;

    function loadSavedData() {
        const savedData = JSON.parse(localStorage.getItem('deliveryData')) || {};
        document.getElementById('city').value = savedData.city || 'Москва';
        document.getElementById('address').value = savedData.address || '';
        document.getElementById('recipient_name').value = savedData.recipient_name || '';
        document.getElementById('recipient_phone').value = savedData.recipient_phone || '';
    }

    function saveDeliveryInfo() {
        const deliveryData = {
            city: document.getElementById('city').value,
            address: document.getElementById('address').value,
            recipient_name: document.getElementById('recipient_name').value,
            recipient_phone: document.getElementById('recipient_phone').value,
        };

        localStorage.setItem('deliveryData', JSON.stringify(deliveryData));

        // Возвращаемся на главную страницу Mini App
        window.location.href = "index.html";
    }

    loadSavedData();
</script>

</body>
</html>
